{% extends "network/layout.html" %}

{% block body %}
    <h1 style="padding-left: 10px;">All Posts</h1>

    {% if request.user.is_authenticated %}
        <div class="new-post">
            <h2>New Post</h2>
            <form method="POST" action="{% url 'new_post' %}">
                {% csrf_token %}
                <textarea name="content" cols="30" rows="3"></textarea>
                <button type="submit">Post</button>
            </form>
        </div>
    {% endif %}

    {% for post in posts %}
        <div class="post">
            <p>{{ post.content }}</p>
            <p>Posted by {{ post.user.username }} at {{ post.timestamp }}</p>
            <!-- <p>Likes: {{ post.likes.count }}</p>
            <a href="{% url 'post_detail' post.id %}">View</a> -->
        </div>
    {% endfor %}
{% endblock %}